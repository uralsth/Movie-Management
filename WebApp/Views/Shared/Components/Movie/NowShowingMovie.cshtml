@using MovieManagement.Models;
@model IEnumerable<MovieItemModel>

<div>
    <div class="row">
        @if (Model != null)
            @foreach (var movie in Model)
            {
                <div class="col-3">
                    <div class="card">
                        <a style="text-decoration:none;"  asp-controller="MovieUser" asp-action="details" asp-route-id="@movie.MovieID">

                            <img src="@movie.ImagePath" class="card-img-top mx-auto d-block" alt="..." style="height: 320px; width: 260px">
                            <div class="card-body">
                                <h5 class="card-title">@movie.MovieName</h5>
                                <p class="card-text"><span>Genre :</span> 
                                @foreach(var genre in movie.MovieGenres)
                                    {

                                        @if(movie.MovieGenres.Length == 1 || @genre == movie.MovieGenres.First())
                                        {
                                            <text>@genre</text>
                                        }
                                        else
                                        {
                                            <text>, @genre</text>
                                        }
                                    }
                                </p>
                                <p class="card-text"><span>Release Date : </span>@movie.ReleaseDate.ToShortDateString()</p>
                        
                             </div>
                        </a>
                    </div>
                </div>
            }

    </div>
</div>
